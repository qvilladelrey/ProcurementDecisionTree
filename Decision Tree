<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Decision Tree for Modes of Procurement</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 80px 20px 20px 20px;
            background-image: url('Decision Tree Background.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .decision-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 35px 65px rgba(0.25,0.25,0.25,0.25);
            max-width: 700px;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: visible;
        }

        h1 {
            font-family: 'Bricolage Grotesque', 'Arial', sans-serif;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.1em;
            font-weight: 600;
        }

        .question {
            font-size: 2em;
            color: #555;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
            align-items: center;
        }

        .options.horizontal {
            flex-direction: row;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .option-btn {
            background: linear-gradient(135deg, #1e3888, #3a6ea5);
            color: white;
            border: none;
            padding: 18px 25px;
            border-radius: 12px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            width: 100%;
            max-width: 450px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.3;
        }

        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .option-btn:active {
            transform: translateY(0);
        }

        .image-option {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
            max-width: 280px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            flex: 1;
            min-width: 140px;
        }

        .image-option:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .image-option h3 {
            margin: 12px 0 6px 0;
            color: #333;
            font-size: 1.1em;
            font-weight: 600;
        }

        .image-option p {
            margin: 0;
            color: #666;
            font-size: 0.85em;
            line-height: 1.3;
        }

        /* üåê Top Navigation Bar */
        .top-nav {
          background: #1e3888;
          padding: 12px 0;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          z-index: 10000;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }
        
        .top-nav ul {
          list-style: none;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          gap: 40px;
        }
        
        .top-nav li {
          display: inline;
        }
        
        .top-nav a {
          color: white;
          text-decoration: none;
          font-weight: 500;
          font-size: 1em;
          transition: color 0.3s ease, transform 0.2s ease;
        }
        
        .top-nav a:hover {
          color: #ffd700;
          transform: translateY(-2px);
        }

        /* Dropdown Menu Styles */
        .dropdown {
          position: relative;
          display: inline-block;
        }
        
        .dropbtn {
          cursor: pointer;
        }
        
        .dropdown-content {
          display: none;
          position: absolute;
          background-color: white;
          min-width: 220px;
          box-shadow: 0 8px 16px rgba(0,0,0,0.2);
          border-radius: 8px;
          z-index: 10001;
          top: 40px;
          left: 0;
        }
        
        .dropdown-content a {
          color: #1e3888;
          padding: 10px 16px;
          text-decoration: none;
          display: block;
          font-weight: 500;
          transition: background 0.3s ease;
        }
        
        .dropdown-content a:hover {
          background-color: #f0f4fa;
        }
        
        /* Show dropdown when active */
        .dropdown.show .dropdown-content {
          display: block;
        }

        .restart-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .back-btn:hover {
            background: #5a6268;
        }

        .restart-btn:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .breadcrumb-container {
            background: #f0f4fa;
            border-radius: 8px;
            padding: 12px 14px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .breadcrumb-title {
            font-weight: bold;
            color: #1e3888;
            font-size: 1em;
            margin-bottom: 6px;
        }

        .breadcrumb-trail {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 5px;
        }

        .breadcrumb-btn {
            background: none;
            border: none;
            color: #1e3888;
            cursor: pointer;
            text-decoration: underline;
            font-size: 0.85em;
            padding: 3px 6px;
            border-radius: 3px;
            transition: all 0.2s ease;
        }
        
        .breadcrumb-btn:hover {
            color: #3a6ea5;
            background: rgba(58, 110, 165, 0.1);
        }
        
        .breadcrumb-current {
            color: #333;
            font-weight: 600;
            padding: 3px 6px;
            font-size: 0.85em;
        }

        .recommendation-container {
            margin-bottom: 20px;
        }

        .primary-recommendation {
          background: linear-gradient(135deg, #1e3888, #3a6ea5);
          color: white;
          padding: 25px;
          border-radius: 15px;
          margin-bottom: 20px;
          box-shadow: 0 8px 25px rgba(0,0,0,0.2);
          text-align: justify;
          position: relative;
        }

        .recommendation-title {
          font-weight: 700;
          font-size: 1.3em;
          margin-bottom: 15px;
          display: flex;
          justify-content: center; 
          align-items: center;
          text-align: center;
        }

        .recommendation-title .icon {
            margin-right: 10px;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        .recommendation-description {
          font-size: 0.9em;
          line-height: 1.4;
          margin-top: 10px;
          text-align: justify; 
        }

        .recommendation-description strong {
          display: block;
          text-align: center; 
          margin-bottom: 15px;
        }

        .alternative-recommendations {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .alternative-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            font-size: 1.1em;
        }

        .alternative-title .icon {
            margin-right: 10px;
            font-size: 1.5em;
        }

        .alternative-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .alternative-badge {
            background: #f8f9fa;
            color: #333;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9em;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .dynamic-recommendations {
            background: #e8f4fd;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.15);
        }

        .dynamic-title {
            font-weight: bold;
            color: #1e3888;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .dynamic-title .icon {
            margin-right: 8px;
        }

        .recommendation-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .recommendation-badge {
            background: #1e3888;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .button-container {
          display: flex;
          justify-content: center; 
          align-items: center;
          gap: 20px; 
          margin-top: 30px;
          flex-wrap: wrap;
        }

        .learn-more-btn {
          display: block;
          margin: 20px auto 0 auto; 
          background: #1e3888;
          color: white;
          padding: 10px 16px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 500;
          transition: background 0.3s ease;
          width: fit-content;
        }

        .learn-more-btn:hover {
            background: #3a6ea5;
        }
        
        .alternative-badge {
            background: #1e3888;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .alternative-badge:hover {
            background: #3a6ea5;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }

        .feedback-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 10px;
          font-size: 1em;
          cursor: pointer;
          transition: all 0.3s ease;
          font-weight: 500;
        }
        
        .feedback-btn:hover {
          background: #0056b3;
          transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .decision-container {
                padding: 25px;
                margin: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .question {
                font-size: 1.1em;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .restart-btn, .back-btn {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>

        <!-- üåê Top Navigation Bar -->
        <nav class="top-nav">
          <ul>
            <li><a href="https://drive.google.com/file/d/1InXUHkA5aoMDSmXnvaFsCixa-ljKmBjB/view?usp=sharing" target="_blank">RA No. 12009 & IRR</a></li>
        
            <!-- Dropdown Menu -->
            <li class="dropdown">
              <a href="#" class="dropbtn" onclick="toggleDropdown(event)">Manual Decision Tree ‚ñæ</a>
              <div class="dropdown-content" id="manualDropdown">
                <a href="https://drive.google.com/file/d/1PmGJyT6rq6tehsdp9GSDRqydRSWt3BQU/view?usp=sharing" target="_blank">Goods</a>
                <a href="https://drive.google.com/file/d/1kVo1EY3Hh8dBM8kNVd3bhouSWctLh56C/view?usp=sharing" target="_blank">Infrastructure Project</a>
                <a href="https://drive.google.com/file/d/1XES2g32LjOEsa2CtcLT4s85_NEiJ9lPS/view?usp=sharing" target="_blank">Consulting Services</a>
              </div>
            </li>
        
            <li><a href="https://drive.google.com/file/d/1nHebwiqS77f024r3ndQuv-P1hzza9ABs/view?usp=sharing" target="_blank">User Guide</a></li>
            <li><a href="https://www.gppb.gov.ph/" target="_blank">Contact Us</a></li>
          </ul>
        </nav>

    <div class="decision-container">
        <h1>Decision Tree for Modes of Procurement <br/> Digital Interactive Version (DIVe)</h1>
        
        <!-- Breadcrumb Trail -->
        <div id="breadcrumbContainer" class="breadcrumb-container" style="display: none;">
            <div class="breadcrumb-title">Your Path:</div>
            <nav id="breadcrumbTrail" class="breadcrumb-trail">
                <!-- Breadcrumb items will be dynamically added here -->
            </nav>
        </div>

        <!-- Dynamic Recommendations Panel -->
        <div id="dynamicRecommendations" class="dynamic-recommendations" style="display: none;">
            <div class="dynamic-title">
                <span class="icon">üí°</span>
                <span>Available Procurement Modes:</span>
            </div>
            <div id="recommendationBadges" class="recommendation-badges">
                <!-- Recommendation badges will be dynamically added here -->
            </div>
        </div>
        
        <div id="homeContainer">
            <div class="question" style="font-size: 1.2em; text-align: justify; margin-bottom: 20px;">
                This decision tree for modes of procurement is a tool that assists Procuring Entities (PEs) in determining the mode of procurement most fit for their desired purpose based on the complexity of the procurement project, their Approved Budget for the Contract, results of market scoping, and other key considerations. 
             </div>

            <div class="question" style="font-size: 0.9em; text-align: justify; margin-bottom: 30px; font-style: italic">
                Disclaimer: PEs are reminded that the Decision Tree serves only as a guide in identifying possible modes of procurement, and that results are not conclusive as outcomes depend on the conditions provided by its users. PEs remain accountable for their decisions and are encouraged to use the tool together with other appropriate methods to validate the identified conditions and recommended modes.
             </div>
            
            <div class="options">
                <img src="START.png" onclick="startDecisionTree()" style="width: 280px; height: 90px; object-fit: cover; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: block; margin: 0 auto;" alt="Start icon" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'" onmousedown="this.style.transform='scale(0.95)'" onmouseup="this.style.transform='scale(1.05)'" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
            </div>
        </div>

        <div id="questionContainer" style="display: none;">
            <div class="question" id="questionText">
                What are you procuring?
            </div>
            
            <div class="options" id="optionsContainer">
                <div class="image-option" onclick="makeChoice('goods')">
                    <img src="Billy Goods.png" style="width: 290px; height: 260px; object-fit: cover; border-radius: 8px;" alt="Goods icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                    <h3>Goods</h3>
                </div>
                <div class="image-option" onclick="makeChoice('infrastructure')">
                    <img src="Billy Infra.png" style="width: 290px; height: 260px; object-fit: cover; border-radius: 8px;" alt="Infrastructure icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                    <h3>Infrastructure Projects</h3>
                </div>
                <div class="image-option" onclick="makeChoice('consulting')">
                    <img src="Billy Consulting.png" style="width: 290px; height: 260px; object-fit: cover; border-radius: 8px;" alt="Consulting icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                    <h3>Consulting Services</h3>
                </div>
            </div>
            
            <!-- Back Button -->
            <div class="button-container">
                <button onclick="goBack()" class="back-btn" id="backButton" style="display: none;">
                    ‚Üê Go Back
                </button>
            </div>
        </div>
        
        <div id="resultContainer" style="display: none;">
            <div class="recommendation-container" id="recommendationContainer">
                <!-- Primary and alternative recommendations will be inserted here -->
            </div>
            <div class="button-container">

                <button class="back-btn" onclick="goBackFromResult()">
                ‚Üê Go Back
                </button>

                <button class="restart-btn" onclick="restart()">
                    üîÑ Start Over
                </button>
        
        <!-- ‚ú® New Feedback Button -->
        <button class="feedback-btn" onclick="openFeedbackForm()">
            üí¨ Give Feedback
            </button>
            </div>
        </div>

    </div>

    <script>
        const decisionTree = {
            start: {
                question: "What is the nature of your procurement project?",
                options: {
                    goods: {
                        text: "üì¶ Goods",
                        next: "isthereemergency_goods"
                    },
                    infrastructure: {
                        text: "üèóÔ∏è Infrastructure Projects",
                        next: "result_underconstruction"
                    },
                    consulting: {
                        text: "ü§ù Consulting Services",
                        next: "result_underconstruction"
                    }
                }
            },
            isthereemergency_goods: {
                question: "Is there a need to:",
                options: {
                    imminentdanger_goods: {
                        text: "üå™Ô∏è address imminent danger to life or property during a state of calamity",
                        next: "prefer_emergencycases_goods",
                        triggers: ["Negotiated Procurement: Emergency Cases"]
                    },
                    timeessence_goods: {
                        text: "üî• implement prompt measures since time is of the essence in situations arising from natural or man-made calamities",
                        next: "prefer_emergencycases_goods",
                        triggers: ["Negotiated Procurement: Emergency Cases"]
                    },
                    immediateaction_goods: {
                        text: "üö® undertake immediate action to prevent damage to or loss of life or property or to restore vital public  services, infrastructure facilities,  and other public utilities",
                        next: "prefer_emergencycases_goods",
                        triggers: ["Negotiated Procurement: Emergency Cases"]
                    },
                    otherinstancesemergency_goods: {
                        text: "‚ö†Ô∏è respond to other instances aside from the mentioned situations where the provision of life, injury, disease, and other negative effects on human, physical, mental and social well-being, together with damage to property, destruction of assets, loss of services, social and economic disruption and environmental degradation",
                        next: "prefer_emergencycases_goods",
                        triggers: ["Negotiated Procurement: Emergency Cases"]
                    },
                    takeovercontract_goods: {
                        text: "üö®take-over a previously awarded contract that was rescinded or terminated for causes provided for in the contract and existing laws, in order to prevent damage to or loss of life or property or restore vital public services, etc.",
                        next: "previouscontract_takeovercontract_goods",
                        triggers: ["Negotiated Procurement: Emergency Cases"]
                    },
                    othersemergency_goods: {
                        text: "‚ùå take action outside the stated options",
                        next: "cse_goods"
                    }
                }
            },
            prefer_emergencycases_goods: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_emergencycases_goods: {
                        text: "üö® Adopt Negotiated Procurement: Emergency Cases",
                        next: "result_emergencycases"
                    },
                    different_prefer_emergencycases_goods: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "cse_goods"
                    }
                }
            },
            previouscontract_takeovercontract_goods: {
                question: "Was the previous contract awarded through Competitive Bidding, Competitive Dialogue, Limited Source Bidding, or Small Value Procurement?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_takeover_noncse",
                        triggers: ["Negotiated Procurement: Take-Over of Contracts"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_emergencycases_takeovercontract_goods"
                    }
                }
            },
            prefer_emergencycases_takeovercontract_goods: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_emergencycases_takeovercontract_goods: {
                        text: "üö® Adopt Negotiated Procurement: Emergency Cases",
                        next: "result_emergencycases"
                    },
                    different_prefer_emergencycases_takeovercontract_goods: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "takeovercontract_cse_noncse"
                    }
                }
            },
            prefer_takeover_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_takeover_noncse: {
                        text: "üìã Adopt Negotiated Procurement: Take-Over of Contracts",
                        next: "result_takeoverofcontracts"
                    },
                    different_prefer_takeover_emergencycases_noncse: {
                        text: "üö® Adopt Negotiated Procurement: Emergency Cases",
                        next: "result_emergencycases"
                    },
                    different_prefer_takeover_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "takeovercontract_cse_noncse"
                    }
                }
            },
            takeovercontract_cse_noncse: {
                question: 'Is the Good included in the <a href="https://sys.ps-philgeps.gov.ph/catalogue/cse-list/" target="_blank" style="color:#1e3888; text-decoration:underline;">List of Common-Use Supplies and Equipment (CSE)</a>?',
                    options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "directacquisition_abc_cse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                       }
                    }
                },
                cse_goods: {
                question: 'Is the Good included in the <a href="https://sys.ps-philgeps.gov.ph/catalogue/cse-list/" target="_blank" style="color:#1e3888; text-decoration:underline;">List of Common-Use Supplies and Equipment (CSE)</a>?',
                    options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "availablepsdbm_cse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "previouslyprocured_noncse"
                    }
                }
            },
            previouslyprocured_noncse: {
                question: "Was the Good procured previously?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "need_noncsegoods"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            need_noncsegoods: {
                question: "Would you prefer to:",
                options: {
                    directpurchase_noncse: {
                        text: "üì¶ directly purchase from supplier that has delivered non-CSE to other government agency",
                        next: "directsales_previousprocurement_competitive"
                    },
                    twofailedbidding_noncse: {
                        text: "üîÑ procure again due to two (2) failures of bidding (Competitive Bidding, Limited Source Bidding, or Competitive Dialogue)",
                        next: "result_twofailedbiddings"
                    },
                    replenishgoods_noncse: {
                        text: "üìã replenish Goods procured under a previously awarded contract",
                        next: "repeatorder_previousprocurement_competitive_noncse"
                    },
                    othergoods_noncse: {
                        text: "‚ùå choose an option not among those listed",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directsales_previousprocurement_competitive: {
                question: "Was the original Non-CSE procured and awarded through Competitive Bidding, Limited Source Bidding, Competitive Dialogue or Unsolicited Offer with Bid Matching?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "directsales_certificateofsatisfactoryperformance"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directsales_certificateofsatisfactoryperformance: {
                question: "Did the original government agency inspect and accept the same, and has issued a certification that the supplier has satisfactorily performed its obligations under the contract?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "directsales_previousprocurement_sixmonths"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directsales_previousprocurement_firsttime: {
                question: "Is this the first time the PE initiated procurement for the non-CSE Good since acceptance by the Original agency of the earlier delivery of the non-CSE Good?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "directsales_previousprocurement_sixmonths"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directsales_previousprocurement_sixmonths: {
                question: "Is it still within six (6) months from acceptance of the Non-CSE Good by the original government agency?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "directsales_lowerunitprice"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directsales_lowerunitprice: {
                question: "Is the contract to be executed between the Procuring Entity (PE) and the supplier within the amount of the contract executed with the original govt agency, and offered to the PE at the same or lower unit price offered to the original government agency?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "directsales_suppliercapability"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directsales_suppliercapability: {
                question: "Did the supplier agree to the terms offered by the PE and remains legally, technically, and financially capable to undertake the contract with the PE?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_directsales"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            repeatorder_previousprocurement_competitive_noncse: {
                question: "Was the good procured under a contract previously awarded through Competitive Bidding, Limited Source Bidding, Competitive Dialogue, or Unsolicited Offer with Bid Matching?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "repeatorder_lowerunitprice_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            repeatorder_lowerunitprice_noncse: {
                question: "Is the unit price equal to or lower than that provided in the original contract and the prevailing market price?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "repeatorder_previousprocurement_sixmonths_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            repeatorder_previousprocurement_sixmonths_noncse: {
                question: "Is the procurement within six (6) months from the date of the Notice to Proceed (NTP) arising from the original contract?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "repeatorder_quantifiablegood_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            repeatorder_quantifiablegood_noncse: {
                question: "Is the Good quantifiable, divisible, and consisting of at least four (4) units per item, and does not exceed 25% of the quantity of each item in the original contract?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_repeatorder"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_noncse"
                    }
                }
            },
            directacquisition_abc_noncse: {
                question: "Is the Approved Budget for the Contract (ABC) less than Php 200,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "typeofgood_directacquisition_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "typeofgood_noncse_b"
                    }
                }
            },
            typeofgood_directacquisition_noncse: {
                question: "Does the Good pertain to those:",
                options: {
                    services_directacquisition_noncse: {
                        text: "üõ†Ô∏è services that may be procured from service providers, such as but not limited to, furniture repair, automotive service, restoration service, machine and fabrication, and other related services",
                        next: "availability_directacquisition_noncse"
                    },
                    stores_directacquisition_noncse: {
                        text: "üõí those that may be procured from stores, such as but not limited to, department store, depot, fast food chain, grocery and supermarket, wholesale and retail store, convenience store, clothing and apparel store, bookstore, drugstore and pharmacy, automotive parts and accessories store, construction and hardware store, and online stores",
                        next: "availability_directacquisition_noncse"
                    },
                    othergoods_directacquisition_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "typeofgood_noncse_b"
                    }
                }
            },
            availability_directacquisition_noncse: {
                question: "Is the Good:",
                options: {
                    philgepsregistered_directacquisition_noncse: {
                        text: "üíª supplied by a supplier registered with the Philippine Government Electronic Procurement System (PhilGEPS) as verified from the PhilGEPS website",
                        next: "prefer_directacquisition_noncse"
                    },
                    ecommerce_directacquisition_noncse: {
                        text: "üì¶ available in electronic commerce platforms for delivery or pick up at such date and time identified by the PE",
                        next: "prefer_directacquisition_noncse"
                    },
                    immediatedelivery_directacquisition_noncse: {
                        text: "üöö readily available off-the-shelf and can be picked up or delivered immediately",
                        next: "prefer_directacquisition_noncse"
                    },
                    otheravailability_directacquisition_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "typeofgood_noncse_b"
                    }
                }
            },
            prefer_directacquisition_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directacquisition_noncse: {
                        text: "üõí Adopt Direct Acquisition",
                        next: "result_directacquisition"
                    },
                    different_prefer_directacquisition_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "typeofgood_noncse_b"
                    }
                }
            },
            typeofgood_noncse_b: {
                question: "Does the Good pertain to:",
                options: {
                    petroleumproducts: {
                        text: "‚õΩ Petroleum Fuel, Oil and Lubricant (POL) Products",
                        next: "retailpumpprice"
                    },
                    electronicchargingdevice: {
                        text: "üöó an electronic charging device intended for electric vehicles",
                        next: "retailpumpprice"
                    },
                    onlinesubscription: {
                        text: "üíª an online subscription",
                        next: "onlinesubscription_availablepsdbm"
                    },
                    agriculturalproduct: {
                        text: "üåæüêü an agricultural or fishery product",
                        next: "sagipsaka_accreditedffce"
                    },
                    majordefenseequipment: {
                        text: "üöÅ a major defense equipment or materiel deemed necessary to protect the country by the Secretary of the Department of National Defense",
                        next: "afpmodernizationprogram_noncse"
                    },
                    scientifcscholarlyetc: {
                        text: "üî¨üé®üíªüé•üìö scientific, scholarly or artistic work, exclusive technology and/or media services",
                        next: "typeofgood_scientificscholarly_noncse"
                    },
                    realpropertyorvenue: {
                        text: "üè¢ lease of Real Property or Venue",
                        next: "publicownedvenue"
                    },
                    othergoods_noncse: {
                        text: "‚ùå those not among the stated options",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            retailpumpprice: {
                question: "Is it available from retailers, dealers, or gas stations at retail pump/charging price?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "immediateconsumption"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            immediateconsumption: {
                question: "Will it be used for any official government vehicle and equipment for immediate consumption?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_directretail_pol",
                        triggers: ["Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_directretail_pol: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directretail_pol: {
                        text: "‚õΩ Adopt Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions",
                        next: "result_directretailofpol"
                    },
                    different_prefer_directretail_pol: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            },
            lgu_goods: {
                question: "Is the Procuring Entity (PE) a Local Government Unit (LGU)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "typeoflgu_goods"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "smallvalueprocurement_abc"
                    }
                }
            },
            typeoflgu_goods: {
                question: "Is the Procuring Entity (PE) a:",
                options: {
                    barangay_typeoflgu_goods: {
                        text: "Barangay",
                        next: "abc_barangay_goods"
                    },
                    province_typeoflgu_goods: {
                        text: "Province",
                        next: "abc_province_goods"
                    },
                    city_typeoflgu_goods: {
                        text: "City",
                        next: "abc_city_goods"
                    },
                    municipality_typeoflgu_goods: {
                        text: "Municipality",
                        next: "abc_municipality_goods"
                    }
                }
            },
            abc_barangay_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P100,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_province_goods: {
                question: "What is its classification?",
                options: {
                    firstclass_province_goods: {
                        text: "1st Class Province",
                        next: "abc_province_twomillion_goods"
                    },
                    secondclass_province_goods: {
                        text: "2nd Class Province",
                        next: "abc_province_twomillion_goods"
                    },
                    thirdclass_province_goods: {
                        text: "3rd Class Province",
                        next: "abc_province_twomillion_goods"
                    },
                    fourthclass_province_goods: {
                        text: "4th Class Province",
                        next: "abc_province_onemillionsixhundred_goods"
                    },
                    fifthclass_province_goods: {
                        text: "5th Class Province",
                        next: "abc_province_onemilliontwohundred_goods"
                    }
                }
            },
            abc_province_twomillion_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P2,000,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_province_onemillionsixhundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P1,600,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_province_onemilliontwohundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P1,200,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_city_goods: {
                question: "What is its classification?",
                options: {
                    firstclass_city_goods: {
                        text: "1st Class City",
                        next: "abc_city_twomillion_goods"
                    },
                    secondclass_city_goods: {
                        text: "2nd Class City",
                        next: "abc_city_twomillion_goods"
                    },
                    thirdclass_city_goods: {
                        text: "3rd Class City",
                        next: "abc_city_onemillionsixhundred_goods"
                    },
                    fourthclass_city_goods: {
                        text: "4th Class City",
                        next: "abc_city_onemilliontwohundred_goods"
                    },
                    fifthclass_city_goods: {
                        text: "5th Class City",
                        next: "abc_city_eighthundred_goods"
                    }
                }
            },
            abc_city_twomillion_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P2,000,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_city_onemillionsixhundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P1,600,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_city_onemilliontwohundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P1,200,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_city_eighthundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than 800,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_municipality_goods: {
                question: "What is its classification?",
                options: {
                    firstclass_municipality_goods: {
                        text: "1st Class",
                        next: "abc_municipality_fourhundred_goods"
                    },
                    secondclass_municipality_goods: {
                        text: "2nd Class",
                        next: "abc_municipality_fourhundred_goods"
                    },
                    thirdclass_municipality_goods: {
                        text: "3rd Class",
                        next: "abc_municipality_fourhundred_goods"
                    },
                    fourthclass_municipality_goods: {
                        text: "4th Class",
                        next: "abc_municipality_twohundred_goods"
                    },
                    fifthclass_municipality_goods: {
                        text: "5th Class",
                        next: "abc_municipality_twohundred_goods"
                    }
                }
            },
            abc_city_fourhundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P400,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            abc_city_twohundred_goods: {
                question: "Is the Approved Budget for the Contract (ABC) more than P200,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            smallvalueprocurement_abc: {
                question: "Is the Approved Budget for the Contract (ABC) more than P2,000,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_competitivebidding_noncse",
                        triggers: ["Small Value Procurement"]
                    }
                }
            },
            prefer_competitivebidding_noncse: {
                question: "Would you prefer to conduct a public bidding process?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_competitivebidding"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "result_smallvalueprocurement"
                    }
                }
            },
            onlinesubscription_availablepsdbm: {
                question: "Is it available from the Procurement Service-Department of Budget and Management (PS-DBM)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_procurepsdbm"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "onlinesubscription_localprovider"
                    }
                }
            },
            onlinesubscription_localprovider: {
                question: "Is there an available local service provider?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "lgu_goods"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "onlinesubscription_abc"
                    }
                }
            },
            onlinesubscription_abc: {
                question: "Is the Approved Budget for the Contract (ABC):",
                options: {
                    lessonemillion_onlinesubscription: {
                        text: "less than one (1) million (P1,000,000.00)",
                        next: "prefer_directretail_smallvalueprocurement_onlinesubscription",
                        triggers: ["Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions"]
                    },
                    moreonemillionlesstwomillion_onlinesubscription: {
                        text: "more than one (1) million (P1,000,000.00) but less than two (2) million (P2,000,000.00)",
                        next: "prefer_directretail_smallvalueprocurement_onlinesubscription",
                        triggers: ["Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions"]
                    },
                    moretwomillionlessfivemillion_onlinesubscription: {
                        text: "more than two (2) million (P2,000,000.00) but less than five (5) million (P5,000,000.00), with approval from the Head of the Procuring Entity",
                        next: "prefer_directretail_competitivebidding_onlinesubscription",
                        triggers: ["Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions"]
                    },
                    morefivemillion_onlinesubscription: {
                        text: "more than five (5) million (P5,000,000.00)",
                        next: "prefer_directretail_competitivebiddingothers_onlinesubscription"
                    }
                }
            },
            prefer_directretail_smallvalueprocurement_onlinesubscription: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directretailsmallvalueprocurement_onlinesubscription: {
                        text: "‚õΩ Adopt Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions",
                        next: "result_directretailofpol"
                    },
                    different_prefer_smallvalueprocurement_onlinesubscription: {
                        text: "üõçÔ∏è Adopt Small Value Procurement or üèÜ Competitive Bidding",
                        next: "lgu_goods"
                    },
                    different_prefer_smallvalueprocurementothers_onlinesubscription: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            prefer_directretail_competitivebidding_onlinesubscription: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directretailcompetitivebidding_onlinesubscription: {
                        text: "üåê Adopt Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions",
                        next: "result_directretailofpol"
                    },
                    different_prefer_competitivebidding_onlinesubscription: {
                        text: "üèÜ Adopt Competitive Bidding",
                        next: "result_competitivebidding"
                    },
                    different_prefer_competitivebiddingothers_onlinesubscription: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            prefer_directretail_competitivebiddingothers_onlinesubscription: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_competitivebiddingothers_onlinesubscription: {
                        text: "üèÜ Adopt Competitive Bidding",
                        next: "result_competitivebidding"
                    },
                    different_prefer_otherscompetitivebiddingothers_onlinesubscription: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            sagipsaka_accreditedffce: {
                question: "Is the supplier an Accredited Farmers and Fisherfolk Cooperatives and Enterprises (FFCE)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_sagipsaka"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "prefer_localcommunity_noncse"
                    }
                }
            },
            prefer_localcommunity_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_localcommunity_noncse: {
                        text: "üèòÔ∏è Adopt Negotiated Procurement: Community Participation",
                        next: "result_communityparticipation"
                    },
                    different_prefer_localcommunity_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            },
            afpmodernizationprogram_noncse: {
                question: "Is it included in the Armed Forces of the Philippines (AFP) Modernization Program previously approved by the President of the Philippines?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_defensecooperation_noncse",
                        triggers: ["Negotiated Procurement: Defense Cooperation Agreements and Inventory-Based Items"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "afpmodernizationprogram_directnegotiation_noncse"
                    }
                }
            },
            afpmodernizationprogram_directnegotiation_noncse: {
                question: "Will direct negotiation address compatibility, interoperability, and sustainability?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "afpmodernizationprogram_previouscontract_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            afpmodernizationprogram_previouscontract_noncse: {
                question: "Has the supplier or manufacturer fully & satisfactorily implemented a contract of the same item with the Department of the National Defense, any of its bureaus or attached agencies, or law enforcement agencies?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "afpmodernizationprogram_performancesecurity_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            afpmodernizationprogram_performancesecurity_noncse: {
                question: "Will the supplier or manufacturer provide performance security in accordance with RA No. 12009?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_defensecooperation_noncse",
                        triggers: ["Negotiated Procurement: Defense Cooperation Agreements and Inventory-Based Items"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            prefer_defensecooperation_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_defensecooperation_noncse: {
                        text: "üöÅ Adopt Negotiated Procurement: Defense Cooperation Agreements and Inventory-Based Items",
                        next: "result_defensecooperationagreement"
                    },
                    different_prefer_defensecooperation_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            typeofgood_scientificscholarly_noncse: {
                question: "Is the Good:",
                options: {
                    workofart: {
                        text: "üé® a work of art, or a commissioned work or services for creative design or a specific artist skill (e.g., singer, performer, poet, writer, painter, sculptor, etc.)",
                        next: "prefer_scientificscholarly_noncse",
                        triggers: ["Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services"]
                    },
                    scientificpublication: {
                        text: "üìö a scientific, technical, economic, business, trade or legal journal, magazine, paper, subscription, or other exclusive statistical publications and references",
                        next: "prefer_scientificscholarly_noncse",
                        triggers: ["Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services"]
                    },
                    medicalbiotech: {
                        text: "üî¨ classified as highly specialized life-saving medical and biotech equipment and devices, medicine, supplies, materials, tools and consumables, as certified by the Department of Health (DOH)",
                        next: "prefer_scientificscholarly_noncse",
                        triggers: ["Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services"]
                    },
                    mediadocumentation: {
                        text: "üé• classified as media documentation, advertisement, or announcement through television, radio, newspaper, internet, and other communication media",
                        next: "prefer_scientificscholarly_noncse",
                        triggers: ["Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services"]
                    },
                    othergoods_scientificscholarlyetc_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            prefer_scientificscholarly_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_scientificscholarly_noncse: {
                        text: "üéì Adopt Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services",
                        next: "result_scientificscholarlyetc"
                    },
                    different_prefer_scientificscholarly_noncse: {
                        text: "üîÑ Adopt different procurement mode",
                        next: "newconcepttechnology_noncse"
                    }
                }
            },
            publicownedvenue: {
                question: "Is the real property or venue publicly-owned?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "agencymandate_realpropertyvenue",
                        triggers: ["Negotiated Procurement: Lease of Real Property and Venue"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "efficientandeconomical_venue"
                    }
                }
            },
            efficientandeconomical_venue: {
                question: "Is the offer of the private supplier more efficient and economical to the government?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_realpropertyvenue_noncse",
                        triggers: ["Negotiated Procurement: Lease of Real Property and Venue"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_realpropertyvenue_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_realpropertyvenue: {
                        text: "üè¢ Adopt Negotiated Procurement: Lease of Real Property and Venue",
                        next: "result_leaseofrealproperty"
                    },
                    different_prefer_realpropertyvenue: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "smallvalueprocurement_abc"
                    }
                }
            },
            agencymandate_realpropertyvenue: {
                question: "Is the government agency owner mandated to undertake the project (e.g., PICC)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_agencytoagency_realpropertyvenue",
                        triggers: ["Negotiated Procurement: Agency-to-Agency"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_agencytoagency_realpropertyvenue: {
                question: "Would you prefer to:",
                options: {
                    different_prefer_realpropertyvenue_realpropertyvenue: {
                        text: "üè¢ Adopt Negotiated Procurement: Lease of Real Property and Venue",
                        next: "result_leaseofrealproperty"
                    },
                    different_prefer_agencytoagency_realpropertyvenue: {
                        text: "üèõÔ∏è Adopt Negotiated Procurement: Agency-to-Agency",
                        next: "result_agencytoagency"
                    },
                    different_prefer_agencytoagencyrealpropertyvenue: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            },
            newconcepttechnology_noncse: {
                question: "Is the Good a new concept or technology?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "unsolicitedoffer_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "researchuse_noncse"
                    }
                }
            },
            unsolicitedoffer_noncse: {
                question: "Did an entity submit an unsolicited offer which the Procuring Entity determine as necessary?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "typeofgood_unsolicitedofferwithbidmatching_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "typeofgood_competitivedialogue_noncse"
                    }
                }
            },
            typeofgood_competitivedialogue_noncse: {
                question: "Does the Good:",
                options: {
                    innovativedesign_competitivedialogue_noncse: {
                        text: "ü§ñ include innovative design or solutions involving procurement of complex purchases such as, but not limited to, intellectual services, major information communications technology projects, or sophisticated products that may refer to goods or services, which in order to be produced or offered, would require a high level of technology, human capital, competencies or facility",
                        next: "prefer_competitivedialogue_noncse",
                        triggers: ["Competitive Dialogue"]
                    },
                    priornegotiation_competitivedialogue_noncse: {
                        text: "‚öôÔ∏è has a contract that requires prior negotiations with the suppliers because of specific circumstances related to nature, complexity, legal and financial issues, or risks attached to the procurement",
                        next: "prefer_competitivedialogue_noncse",
                        triggers: ["Competitive Dialogue"]
                    },
                    undefinedtechspecs_competitivedialogue_noncse: {
                        text: "üí° has Technical Specifications that cannot be sufficiently established or precisely defined by the PE",
                        next: "prefer_competitivedialogue_noncse",
                        triggers: ["Competitive Dialogue"]
                    },
                    othergoods_competitivedialogue_noncse: {
                        text: "‚ùå pertain to those not among the stated options",
                        next: "researchuse_noncse"
                    }
                }
            },
            prefer_competitivedialogue_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_competitivedialogue_noncse: {
                        text: "ü§ù Adopt Competitive Dialogue",
                        next: "result_competitivedialogue"
                    },
                    different_prefer_competitivedialogue_noncse: {
                        text: "üîÑ Adopt different procurement mode",
                        next: "researchuse_noncse"
                    }
                }
            },
            researchuse_noncse: {
                question: "Is the Good to be used actually, exclusively, and directly in the conduct of research and development projects or activities?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "typeofgood_sti_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "totalsuppliers_noncse"
                    }
                }
            },
            typeofgood_sti_noncse: {
                question: "Does the Good pertain to:",
                options: {
                    actualscience: {
                        text: "üî¨ those classified as supplies, materials, equipment and related services to be used actually, exclusively, and directly in the conduct of research and development projects or activities",
                        next: "prefer_directsti_noncse",
                        triggers: ["Direct Procurement for Science, Technology, and Innovation"]
                    },
                    priornegotiation_competitivedialogue_noncse: {
                        text: "üí° those  which include products of a commissioned task by a PE which where processed, developed, and manufactured in satisfaction of its needs and requirements, which include: (i) pre-commercial goods and services that involve early market engagement to stimulate the development of new goods and services that meet specific government needs; and (ii) goods to be manufactured by qualified start up businesses alongside the thrust to develop and support new businesses",
                        next: "prefer_directsti_noncse",
                        triggers: ["Direct Procurement for Science, Technology, and Innovation"]
                    },
                    sti_analogous: {
                        text: "üß™ other analogous goods",
                        next: "prefer_directsti_noncse",
                        triggers: ["Direct Procurement for Science, Technology, and Innovation"]
                    },
                    othergoods_sti_noncse: {
                        text: "‚ùå those not among the stated options",
                        next: "totalsuppliers_noncse"
                    }
                }
            },
            prefer_directsti_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directsti_noncse: {
                        text: "üî¨ Adopt Direct Procurement for Science, Technology, and Innovation",
                        next: "result_directprocurementforsti"
                    },
                    different_prefer_directsti_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "totalsuppliers_noncse"
                    }
                }
            },
            totalsuppliers_noncse: {
                question: "How many capable suppliers are available?",
                options: {
                    one_directcontracting_noncse: {
                        text: "One (1)",
                        next: "typeofgood_directcontracting_noncse"
                    },
                    morethanone_limitedsourcebidding_noncse: {
                        text: "More than one (1)",
                        next: "approvedlist_limitedsourcebidding_noncse"
                    }
                }
            },
            approvedlist_limitedsourcebidding_noncse: {
                question: "Are the set of¬†pre-selected suppliers included in a government-approved or self-generated supplier list?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "typeofgood_limitedsourcebidding_noncse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "typeofsupplier_noncse"
                    }
                }
            },
            typeofgood_limitedsourcebidding_noncse: {
                question: "Is the Good:",
                options: {
                    majorplantcomponent: {
                        text: "üè≠ a major plant component where it is deemed advantageous to limit the bidding to known eligible bidders in order to maintain an optimum and uniform level of quality and performance of the plant as a whole",
                        next: "prefer_limitedsourcebidding_noncse",
                        triggers: ["Limited Source Bidding"]
                    },
                    highlyspecialized_noncse: {
                        text: "‚öôÔ∏è classified as highly specialized or complex, which is known to be obtainable only from a limited number of sources",
                        next: "prefer_limitedsourcebidding_noncse",
                        triggers: ["Limited Source Bidding"]
                    },
                    othergoods_limitedsourcebidding_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "typeofsupplier_noncse"
                    }
                }
            },
            prefer_limitedsourcebidding_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_limitedsourcebidding_noncse: {
                        text: "üè≠ Adopt Limited Source Bidding",
                        next: "result_limitedsourcebidding"
                    },
                    different_prefer_limitedsourcebidding_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "typeofsupplier_noncse"
                    }
                }
            },
            typeofgood_directcontracting_noncse: {
                question: "Is the Good:",
                options: {
                    exclusivedealer_noncse: {
                        text: "üè∑Ô∏è sold by an exclusive dealer or manufacturer which does not have sub-dealers selling at lower prices and for which no suitable substitute can be obtained at more advantageous terms to the government",
                        next: "prefer_directcontracting_noncse",
                        triggers: ["Direct Contracting"]
                    },
                    criticalcomponent_noncse: {
                        text: "üè≠ a critical component from a specific manufacturer, supplier, or distributor is a condition precedent to hold a service provider to guarantee its project performance, in accordance with the provisions of the contract, as determined by the EU/IU",
                        next: "prefer_directcontracting_noncse",
                        triggers: ["Direct Contracting"]
                    },
                    proprietarygood_noncse: {
                        text: "üîí proprietary in nature, which can only be obtained from the proprietary source; or when patents, trade secrets, and copyrights prohibit others from manufacturing the same item, as supported by relevant documentary evidence issued by competent authority",
                        next: "prefer_directcontracting_noncse",
                        triggers: ["Direct Contracting"]
                    },
                    othergoods_directcontracting_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "typeofsupplier_noncse"
                    }
                }
            },
            prefer_directcontracting_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directcontracting_noncse: {
                        text: "üìù Adopt Direct Contracting",
                        next: "result_directcontracting"
                    },
                    different_prefer_directcontracting_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "typeofsupplier_noncse"
                    }
                }
            },
            typeofgood_unsolicitedofferwithbidmatching_noncse: {
                question: "Does the Good:",
                options: {
                    significantbenefits_noncse: {
                        text: "‚ö° provide significant benefits to the Procuring Entity in terms of efficiency, cost, or outcome",
                        next: "result_unsolicitedofferwithbidmatching"
                    },
                    substantialimprovement_noncse: {
                        text: "üìà offer a substantial improvement over existing solutions, demonstrated through verifiable data, proof of concept, or technical studies",
                        next: "result_unsolicitedofferwithbidmatching"
                    },
                    emergingtechnology_noncse: {
                        text: "üí° incorporate features promoting emerging technology and sustainable solutions",
                        next: "result_unsolicitedofferwithbidmatching"
                    },
                    stateoftheart_noncse: {
                        text: "üõ∞Ô∏è involve state-of-the-art technology, as certified by a recognized independent agency with expertise in the field",
                        next: "result_unsolicitedofferwithbidmatching"
                    },
                    othergoods_unsolicitedofferwithbidmatching_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "result_reviewtechspecs"
                    }
                }
            },
            typeofsupplier_noncse: {
                question: "Is the supplier:",
                options: {
                    unagency_noncse: {
                        text: "üåê classified as a United Nations (UN) Agency, International Organization  or International Financing Institution",
                        next: "typeofgood_unagency_noncse"
                    },
                    ngo_noncse: {
                        text: "üè¢ a non-stock, non-profit domestic corporation with the Securities and Exchange Commission (SEC) or a cooperative registered with the Cooperative Development Authority (CDA)",
                        next: "ngo_appropriationlaw_noncse"
                    },
                    governmentagency_noncse: {
                        text: "üèõÔ∏è another agency that has the mandate and absorptive capacity to undertake the project, as validated by the Procuring Entity",
                        next: "necessarytools_agencytoagency_noncse"
                    },
                    othersupplier_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "lgu_goods"
                    }
                }
            },
            typeofgood_unagency_noncse: {
                question: "Does the Good pertain to:",
                options: {
                    advancedtechnology_unagency_noncse: {
                        text: "üõ∞Ô∏è those that involve advanced technologies, techniques, and innovations not locally available as certified by the Department of Trade and Industry (DTI), when it is most advantageous to the Procuring Entity",
                        next: "prefer_unagency_noncse",
                        triggers: ["Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations"]
                    },
                    specializedproduct_unagency_noncse: {
                        text: "üíâ specialized products where the number of suppliers is limited, such as vaccines",
                        next: "prefer_unagency_noncse",
                        triggers: ["Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations"]
                    },
                    educationandhealth_unagency_noncse: {
                        text: "üè• small quantities of off-the-shelf goods exclusively used in education and health",
                        next: "prefer_unagency_noncse",
                        triggers: ["Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations"]
                    },
                    criticalpublichealth_unagency_noncse: {
                        text: "ü©∫ those for critical public health priorities as determined and certified by the DOH",
                        next: "prefer_unagency_noncse",
                        triggers: ["Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations"]
                    },
                    othergoods_unagency_noncse: {
                        text: "‚ùå not among the stated options",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_unagency_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_unagency_noncse: {
                        text: "üåê Adopt Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations",
                        next: "result_unagencies"
                    },
                    different_prefer_unagency_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            },
            ngo_appropriationlaw_noncse: {
                question: "Is there an appropriation law or ordinance earmarking an amount to be specifically contacted out to non-government organizations (NGOs)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_ngoparticipation_noncse",
                        triggers: ["Negotiated Procurement: Community Participation"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_ngoparticipation_noncse: {
                question: "Do you prefer to:",
                options: {
                    yes_prefer_ngoparticipation_noncse: {
                        text: "üè¢ Adopt Negotiated Procurement: Non-Government Organization (NGO) Participation",
                        next: "result_ngoparticipation"
                    },
                    different_prefer_ngoparticipation_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            },
            necessarytools_agencytoagency_noncse: {
                question: "Does the Servicing Agency (SA) own or has access to the necessary tools and equipment required for the project?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "prefer_agencytoagency_noncse",
                        triggers: ["Negotiated Procurement: Agency-to-Agency"]
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_agencytoagency_noncse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_agencytoagency_noncse: {
                        text: "üèõÔ∏è Adopt Negotiated Procurement: Agency-to-Agency",
                        next: "result_agencytoagency"
                    },
                    different_prefer_agencytoagency_noncse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            },
            availablepsdbm_cse: {
                question: "Is it available from the Procurement Service-Department of Budget and Management (PS-DBM)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_procurepsdbm"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "previouslyprocured_cse"
                    }
                }
            },
            previouslyprocured_cse: {
                question: "Was the Good procured previously?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "need_csegoods"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_cse"
                    }
                }
            },
            need_csegoods: {
                question: "Would you prefer to:",
                options: {
                    twofailedbidding_cse: {
                        text: "üîÑ procure again due to two (2) failures of bidding (Competitive Bidding, Limited Source Bidding, or Competitive Dialogue)",
                        next: "result_twofailedbiddings"
                    },
                    replenishgoods_cse: {
                        text: "üìã replenish Goods procured under a previously awarded contract",
                        next: "repeatorder_previousprocurement_competitive_cse"
                    },
                    othergoods_cse: {
                        text: "‚ùå choose another option not listed",
                        next: "directacquisition_abc_cse"
                    }
                }
            },
            repeatorder_previousprocurement_competitive_cse: {
                question: "Was the original contract awarded¬†through Competitive Bidding, Limited Source Bidding, Competitive Dialogue, or Unsolicited Offer with Bid Matching?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "repeatorder_lowerunitprice_cse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_cse"
                    }
                }
            },
            repeatorder_lowerunitprice_cse: {
                question: "Is the unit price equal to or lower than that provided in the original contract and the prevailing market price?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "repeatorder_previousprocurement_sixmonths_cse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_cse"
                    }
                }
            },
            repeatorder_previousprocurement_sixmonths_cse: {
                question: "Is the procurement within six (6) months from the date of the original contract's Notice to Proceed (NTP)?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "repeatorder_quantifiablegood_cse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_cse"
                    }
                }
            },
            repeatorder_quantifiablegood_cse: {
                question: "Is the Good quantifiable, divisible, and consisting of at least four (4) units per item, and does not exceed 25% of the quantity of each item in the original contract?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "result_repeatorder"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "directacquisition_abc_cse"
                    }
                }
            },
            directacquisition_abc_cse: {
                question: "Is the Approved Budget for the Contract (ABC) less than Php 200,000.00?",
                options: {
                    yes: {
                        text: "‚úÖ Yes",
                        next: "typeofgood_directacquisition_cse"
                    },
                    no: {
                        text: "‚ùå No",
                        next: "lgu_goods"
                    }
                }
            },
            typeofgood_directacquisition_cse: {
                question: "Is the Good:",
                options: {
                    services_directacquisition_cse: {
                        text: "üõ†Ô∏è services that may be procured from service providers, such as but not limited to, furniture repair, automotive service, restoration service, machine and fabrication, and other related services",
                        next: "availability_directacquisition_cse"
                    },
                    stores_directacquisition_cse: {
                        text: "üõí those that may be procured from stores, such as but not limited to, department store, depot, fast food chain, grocery and supermarket, wholesale and retail store, convenience store, clothing and apparel store, bookstore, drugstore and pharmacy, automotive parts and accessories store, construction and hardware store, and online stores",
                        next: "availability_directacquisition_cse"
                    },
                    othergoods_directacquisition_cse: {
                        text: "‚ùå not among the stated options",
                        next: "lgu_goods"
                    }
                }
            },
            availability_directacquisition_cse: {
                question: "Is the Good:",
                options: {
                    philgepsregistered_directacquisition_cse: {
                        text: "üíª supplied by a supplier registered with the Philippine Government Electronic Procurement System (PhilGEPS) as verified from the PhilGEPS website",
                        next: "prefer_directacquisition_cse",
                        triggers: ["Direct Acquisition"]
                    },
                    ecommerce_directacquisition_cse: {
                        text: "üì¶ available in electronic commerce platforms for delivery or pick up at such date and time identified by the Procuring Entity",
                        next: "prefer_directacquisition_cse",
                        triggers: ["Direct Acquisition"]
                    },
                    immediatedelivery_directacquisition_cse: {
                        text: "üöö readily available off-the-shelf and can be picked up or delivered immediately",
                        next: "prefer_directacquisition_cse",
                        triggers: ["Direct Acquisition"]
                    },
                    otheravailability_directacquisition_cse: {
                        text: "‚ùå not among the stated options",
                        next: "lgu_goods"
                    }
                }
            },
            prefer_directacquisition_cse: {
                question: "Would you prefer to:",
                options: {
                    yes_prefer_directacquisition_cse: {
                        text: "üõí Adopt Direct Acquisition",
                        next: "result_directacquisition"
                    },
                    different_prefer_directacquisition_cse: {
                        text: "üîÑ Adopt a Different Procurement Mode",
                        next: "lgu_goods"
                    }
                }
            }
        };

        const results = {
            result_competitivebidding: {
                title: "Competitive Bidding",
                description: "Competitive Bidding is a mode of procurement which is open to participation by any eligible bidder. <em>(See Section 27, Rules VI to XI, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1UgHf6lyl0nLtOeewCQhgWrljdmawQK6G/view?usp=sharing",
                path: []
            },
            result_limitedsourcebidding: {
                title: "Limited Source Bidding",
                description: "Limited Source Bidding is a mode of procurement that involves direct  invitation to bid by the Procuring Entity to a set of pre-selected suppliers, contractors, or consultants with known experience and proven capability relative to the requirements of a particular contract. <em>(See Section 28, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1tTPOiQWG0citff9wb9nIojlMHZsPMnAn/view?usp=sharing",
                path: []
            },
            result_competitivedialogue: {
                title: "Competitive Dialogue",
                description: "Competitive Dialogue is a mode of procurement that employs a two-stage  bidding process where the Procuring Entity invites suppliers, manufacturers, distributors, contractors, consultants, and service providers to a dialogue to propose solutions to address its needs and requirements. <em>(See Section 29, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1MFokuGaOKJEfAoc8xTd3BAOVTBthsaGk/view?usp=sharing",
                path: []
            },
            result_unsolicitedofferwithbidmatching: {
                title: "Unsolicited Offer with Bid Matching",
                description: "Unsolicited Offer with Bid Matching is a mode of procurement wherein the Procuring Entity may consider unsolicited offers from the original offeror on a negotiated basis for Goods and Consulting Services. <em>(See Section 30, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1ZbcYzj8aFEA5v4S3L7UJlSHs9jMamNeP/view?usp=sharing",
                path: []
            },
            result_directcontracting: {
                title: "Direct Contracting",
                description: "Direct Contracting is a mode of procurement of Goods that does not require elaborate Bidding Documents, and the supplier is only required to submit a price quotation or a pro-forma invoice together with the conditions of sale, which may be accepted immediately or after some negotiations. <em>(See Section 31, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1HPfvF3s4egPlNwD3Nns8HiorLNi-YDhF/view?usp=sharing",
                path: []
            },
            result_directacquisition: {
                title: "Direct Acquisition",
                description: "Direct Acquisition is a mode of procurement of CSE not available in the PS-DBM, Non-CSE, and services with ABC not exceeding Two Hundred Thousand Pesos (‚Ç±200,000.00), where the Procuring Entity, without need to conduct a canvass or request for quotations, may procure directly from any known and reputable sources. Goods covered under this mode may be procured from stores, such as but not limited to, department store, depot, fast food chain, grocery and supermarket, wholesale and retail store, convenience store, clothing and apparel store, bookstore, drugstore and pharmacy, automotive parts and accessories store, construction and hardware store, and online stores. Services may be procured from service providers, such as but not limited to, furniture repair, automotive service, restoration service, machine and fabrication, and other related services. <em>(See Section 32, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1F6LKgqfCraB6Zcc55DfrmueobuL-pTsW/view?usp=sharing",
                path: []
            },
            result_repeatorder: {
                title: "Repeat Order",
                description: "Repeat Order is a mode of procurement wherein the Procuring Entity may procure goods from the previous winning bidder whenever there arises a need to replenish the goods procured under a contract previously awarded through bidding, particularly Competitive Bidding, Limited Source Bidding, Competitive Dialogue, or Unsolicited Offer with Bid Matching. <em>(See Section 33, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1klkXsdASw5dZ5vShr8ifKHc24ZOCN8pm/view?usp=sharing",
                path: []
            },
            result_smallvalueprocurement: {
                title: "Small Value Procurement",
                description: "Small Value Procurement (SVP) is a mode of procurement whereby the Procuring Entity requests for the submission of at least three (3) price quotations for Goods not available in the PS-DBM, Infrastructure Projects, and Consulting Services. The receipt of one (1) quotation is sufficient to proceed with the evaluation of bidders: Provided, That, the amount involved does not exceed Two Million Pesos (‚Ç±2,000,000.00), subject to the periodic review of the threshold amount and adjustments as may be deemed appropriate by the GPPB. <em>(See Section 34, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1LCG4aXg8yTGua5pclg6FqzatXrDp0cxl/view?usp=sharing",
                path: []
            },
            result_twofailedbiddings: {
                title: "Negotiated Procurement: Two-Failed Biddings",
                description: "This mode of procurement may be adopted in cases of Two Failed Biddings, where there have been two (2) failures of bidding under Competitive Bidding, Limited Source Bidding, or Competitive Dialogue, as provided in Section 64 of the Implementing Rules and Regulations (IRR) of RA 12009. <em>(See Section 35.1, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/14txRS2ZO_gGRPIPLV_dxfCp8MB-hSIkN/view?usp=sharing",
                path: []
            },
            result_emergencycases: {
                title: "Negotiated Procurement: Emergency Cases",
                description: "This mode of procurement may be adopted in Emergency Cases, where immediate action is required under any of the following circumstances: (a) there is an imminent danger to life or property during a state of calamity; (b) time is of the essence due to natural or man-made calamities; or (c) other causes necessitate urgent action to (i) prevent damage to or loss of life or property, or (ii) restore vital public services, infrastructure facilities, and other public utilities. Such situations include the provision of immediate response and initial recovery measures to prevent loss of life, injury, disease, and other adverse effects on human, physical, mental, and social well-being, as well as to mitigate damage to property, destruction of assets, loss of services, social and economic disruption, and environmental degradation. <em>(See Section 35.2, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1U1wHJQYJNx9Ml5RI7yp-XDoGvzNnr0RG/view?usp=drive_link",
                path: []
            },
            result_takeoverofcontracts: {
                title: "Negotiated Procurement: Take-Over of Contracts",
                description: "This mode of procurement may be adopted in cases of Take-Over of Contracts, where a contract previously awarded through Competitive Bidding, Competitive Dialogue, Limited Source Bidding, or Small Value Procurement has been rescinded or terminated for causes provided in the contract and existing laws, and immediate action is necessary to (a) prevent damage to or loss of life or property, or (b) restore vital public services, infrastructure facilities, and other public utilities. <em>(See Section 35.3, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1TAGfReZQ_WWBn3mnWhkG4PpvgWBygw9d/view?usp=drive_link",
                path: []
            },
            result_adjacentorcontiguous: {
                title: "Negotiated Procurement: Adjacent or Contiguous",
                description: "This mode of procurement may be adopted in cases of Adjacent or Contiguous Projects, where the subject contract is adjacent or contiguous to an ongoing Infrastructure Project, or involves Consulting Services in which the consultants possess unique experience and expertise necessary to deliver the required services. <em>(See Section 35.4, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/16X7jwFpJP0qlwlL1Whlw9IbC4GKtikns/view?usp=sharing",
                path: []
            },
            result_agencytoagency: {
                title: "Negotiated Procurement: Agency-to-Agency",
                description: "This mode of procurement may be adopted through Agency-to-Agency arrangements, involving the procurement of Goods, Infrastructure Projects, or Consulting Services from another government agency that has the mandate and absorptive capacity to effectively undertake the project. <em>(See Section 35.5, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1J88K_2d-qnXHRcy1LWpzjOpy8rTbk8Y8/view?usp=sharing",
                path: []
            },
            result_scientificscholarlyetc: {
                title: "Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services",
                description: "This mode of procurement may be adopted for Scientific, Scholarly or Artistic Work, Exclusive Technology, and Media Services, where the Goods, Infrastructure Projects, or Consulting Services may be contracted to a particular supplier, contractor, or consultant, as determined by the Head of the Procuring Entity (HoPE). In view of the nature of the information to be disseminated and in adherence to the principles of transparency, efficiency, and economy, the Procuring Entity may award the contract to more than one (1) supplier. <em>(See Section 35.6, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1uIXX1qigYO0LHcw5ytylQk7WDhihn3Ar/view?usp=sharing",
                path: []
            },
            result_highlytechnicalconsultants: {
                title: "Negotiated Procurement: Highly Technical Consultants",
                description: "This mode of procurement may be adopted for the engagement of Highly Technical Consultants, in cases where individual consultants are hired to perform work that is (i) highly technical or proprietary, or (ii) primarily confidential or policy-determining, provided that trust and confidence are the primary considerations in their engagement. The term of the individual consultant shall be on a yearly basis, renewable at the option of the Head of the Procuring Entity (HoPE), but shall in no case exceed the term of the HoPE. <em>(See Section 35.7, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1dUjQ7Fw31hYLcCHOhq5ecTEULlW8UT28/view?usp=sharing",
                path: []
            },
            result_defensecooperationagreement: {
                title: "Negotiated Procurement: Defense Cooperation Agreements and Inventory-Based Items",
                description: "This mode of procurement may be adopted in the interest of national security, wherein the Secretary of the Department of National Defense (DND), or any of his authorized representatives, may directly negotiate with a supplier or manufacturer for the procurement of inventory-based items pertaining to major defense equipment or materiel, which are not necessarily limited to those covered under the AFP Modernization Program. <em>(See Section 35.8, IRR of RA No. 12009.)</em> </br></br> <em>This mode of procurement may only be implemented upon the issuance of the corresponding implementing guidelines by the GPPB.</em>",
                link: "https://drive.google.com/file/d/1tOqzkHgi5Ch_TeMt9u4j1-lKWnYB86fx/view?usp=sharing",
                path: []
            },
            result_leaseofrealproperty: {
                title: "Negotiated Procurement: Lease of Real Property and Venue",
                description: "This mode of procurement may be adopted for the Lease of Real Property and Venue intended for official use, with preference given to publicly owned properties or venues leased from other government agencies. If a publicly owned property or venue that meets the requirements of the Procuring Entity is available, the Procuring Entity may enter into a lease agreement with the concerned government agency. However, if the Procuring Entity opts to lease privately owned real property or venue, the End-User or Implementing Unit must justify that such arrangement is more efficient and economical for the government. <em>(See Section 35.9, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1vxnSLNbc5qGOkLHv1eV2fbd25ad1W2Vm/view?usp=sharing",
                path: []
            },
            result_ngoparticipation: {
                title: "Negotiated Procurement: Non-Government Organization (NGO) Participation",
                description: "This mode of procurement may be adopted through Non-Government Organization (NGO) Participation, wherein the Procuring Entity may enter into a Memorandum of Agreement (MOA) with an NGO when an appropriation law or ordinance earmarks funds specifically for contracting out projects to such organizations. <em>(See Section 35.10, IRR of RA No. 12009.)</em> </br></br> <em>This mode of procurement may only be implemented upon the issuance of the corresponding implementing guidelines by the GPPB.</em>",
                link: "https://drive.google.com/file/d/1sxmYXz2STl_MR50L8RRIkZeQ32PZColm/view?usp=sharing",
                path: []
            },
            result_communityparticipation: {
                title: "Negotiated Procurement: Community Participation",
                description: "This mode of procurement may be adopted through Community Participation, wherein the Procuring Entity may directly purchase Goods, including agricultural and fishery products, from local farmers and fisherfolk, or directly negotiate simple Infrastructure Projects with local communities or community and social groups (CSGs) or their members. For this purpose, CSGs may be classified as either organized or unorganized. <em>(See Section 35.11, IRR of RA No. 12009.)</em> </br></br> <em>This mode of procurement may only be implemented upon the issuance of the corresponding implementing guidelines by the GPPB.</em>",
                link: "https://drive.google.com/file/d/12jNu-D0-F50MVE8Pm3F9Vg0ozP1076xV/view?usp=sharing",
                path: []
            },
            result_unagencies: {
                title: "Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations",
                description: "This mode of procurement may be adopted for engagements with United Nations (UN) Agencies, International Organizations, or International Financing Institutions, wherein the Procuring Entity may directly procure from specialized agencies of the UN, as well as from international organizations or international financing institutions, in accordance with applicable laws, rules, and international commitments. <em>(See Section 35.12, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1u87GJH-VV9h-yji6XIi_IJWlb50AdGIq/view?usp=sharing",
                path: []
            },
            result_directretailofpol: {
                title: "Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions",
                description: "This mode of procurement may be adopted for the Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant (POL) Products, Electronic Charging Devices, and Online Subscriptions, when such items are not available from the Procurement Service‚ÄìDepartment of Budget and Management (PS-DBM). In such cases, the End-User or Implementing Units authorized to procure may directly purchase from identified suppliers or service providers, provided that the goods and services are necessary for the efficient discharge of the Procuring Entity‚Äôs principal functions or day-to-day operations. <em>(See Section 35.13, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1gFtO3KQbsD2WUy50-qpTl4UWOYtRasy2/view?usp=sharing",
                path: []
            },
            result_directsales: {
                title: "Direct Sales",
                description: "Direct Sales is a mode of procurement of Non-CSE where a Procuring Entity directly purchases from a supplier that has satisfactorily delivered Non-CSE to another government agency under a completed contract. <em>(See Section 36, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/14AchMeFf6PD1wJPaKS4jEsqkDX-Bh9P9/view?usp=sharing",
                path: []
            },
            result_directprocurementforsti: {
                title: "Direct Procurement for Science, Technology, and Innovation",
                description: "Direct Procurement for Science, Technology, and Innovation is a mode of procurement in which the Procuring Entity may directly acquire goods and services from a manufacturer or supplier that is legally, technically, and financially capable of providing the required items or services. <em>(See Section 37, IRR of RA No. 12009.)</em> </br></br> <em>This mode of procurement may only be implemented upon the issuance of the corresponding implementing guidelines by the GPPB.</em>",
                link: "https://drive.google.com/file/d/13gZCLwRib0lBDs7Y00VlOdHw0OSGtWEq/view?usp=sharing",
                path: []
            },
            result_procurepsdbm: {
                title: "Procure from the Procurement Service-Department of Budget and Management (PS-DBM)",
                description: "Instead of using the Modes of Procurement under Rule IV of the NGPA, you may consider purchasing these directly from the PS-DBM. <em>(See Section 40, IRR of RA No. 12009.)</em>",
                link: "https://drive.google.com/file/d/1yan0pMum_FRZKIrZR_AW1yYQqOOYEPgx/view?usp=sharing",
                path: []
            },
            result_reviewtechspecs: {
                title: "Review Procurement Documents",
                description: "Based on your selections, it is recommended that you review your technical specifications, the results of your market scoping, and other relevant documents. This review will help ensure that your requirements are accurate and complete, that the budget aligns with the scope of procurement, and that potential suppliers and pricing have been properly assessed.",
                path: []
            },
            result_sagipsaka: {
                title: "Negotiated Procurement: Sagip Saka Act",
                description: "Based on your selections, you may adopt Negotiated Procurement-Sagip Saka Act, in accordance with the provisions of Republic Act No. 11321 (Sagip Saka Act) and its Implementing Rules and Regulations (IRR). This ensures that agricultural and fishery products are procured from accredited farmers‚Äô and fisherfolk cooperatives and enterprises, promoting local production, fair trade, and sustainable sourcing.",
                link: "https://drive.google.com/file/d/16fsN6WnyAYvpJjqLPfNEzrFkeySZL88D/view?usp=sharing",
                path: []
            },
            result_underconstruction: {
                title: "üöß Under Construction",
                description: "This section is currently under development. Please check back later for updates.",
                path: []
            }
        };

        const procurementModeEmojis = {
            "Competitive Bidding": "üèÜ",            
            "Limited Source Bidding": "üè≠",
            "Competitive Dialogue": "ü§ù",
            "Unsolicited Offer with Bid Matching": "‚≠ê",
            "Direct Contracting": "üìù",
            "Direct Acquisition": "üõí",
            "Repeat Order": "üìã",
            "Small Value Procurement": "üõçÔ∏è",
            "Negotiated Procurement: Two-Failed Biddings": "üîÑ",
            "Negotiated Procurement: Emergency Cases": "üö®",
            "Negotiated Procurement: Take-Over of Contracts": "üìã",
            "Negotiated Procurement: Adjacent or Contiguous": "‚öôÔ∏è",
            "Negotiated Procurement: Agency-to-Agency": "üèõÔ∏è",
            "Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services": "üéì",
            "Negotiated Procurement: Highly Technical Consultants": "üåü",
            "Negotiated Procurement: Defense Cooperation Agreements and Inventory-Based Items": "üöÅ",
            "Negotiated Procurement: Lease of Real Property and Venue": "üè¢",
            "Negotiated Procurement: Non-Government Organization (NGO) Participation": "üè¢",
            "Negotiated Procurement: Community Participation": "üèòÔ∏è",
            "Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations": "üåê",
            "Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions": "‚õΩ",
            "Direct Sales": "üì¶",
            "Direct Procurement for Science, Technology, and Innovation": "üî¨",
            "Procure from the Procurement Service-Department of Budget and Management (PS-DBM)": "üìã"
        };

        const procurementModeLinks = {
            "Competitive Bidding": "https://drive.google.com/file/d/1UgHf6lyl0nLtOeewCQhgWrljdmawQK6G/view?usp=sharing",            
            "Limited Source Bidding": "https://drive.google.com/file/d/1tTPOiQWG0citff9wb9nIojlMHZsPMnAn/view?usp=sharing",
            "Competitive Dialogue": "https://drive.google.com/file/d/1MFokuGaOKJEfAoc8xTd3BAOVTBthsaGk/view?usp=sharing",
            "Unsolicited Offer with Bid Matching": "https://drive.google.com/file/d/1ZbcYzj8aFEA5v4S3L7UJlSHs9jMamNeP/view?usp=sharing",
            "Direct Contracting": "https://drive.google.com/file/d/1HPfvF3s4egPlNwD3Nns8HiorLNi-YDhF/view?usp=sharing",
            "Direct Acquisition": "https://drive.google.com/file/d/1F6LKgqfCraB6Zcc55DfrmueobuL-pTsW/view?usp=sharing",
            "Repeat Order": "https://drive.google.com/file/d/1klkXsdASw5dZ5vShr8ifKHc24ZOCN8pm/view?usp=sharing",
            "Small Value Procurement": "https://drive.google.com/file/d/1LCG4aXg8yTGua5pclg6FqzatXrDp0cxl/view?usp=sharing",
            "Negotiated Procurement: Two-Failed Biddings": "https://drive.google.com/file/d/1U1wHJQYJNx9Ml5RI7yp-XDoGvzNnr0RG/view?usp=sharing",
            "Negotiated Procurement: Emergency Cases": "https://drive.google.com/file/d/1U1wHJQYJNx9Ml5RI7yp-XDoGvzNnr0RG/view?usp=sharing",
            "Negotiated Procurement: Take-Over of Contracts": "https://drive.google.com/file/d/1lt_2gE2fLHvAIEAEBN0sl5dvzr_pBLan/view?usp=sharing",
            "Negotiated Procurement: Adjacent or Contiguous": "https://drive.google.com/file/d/16X7jwFpJP0qlwlL1Whlw9IbC4GKtikns/view?usp=sharing",
            "Negotiated Procurement: Agency-to-Agency": "https://drive.google.com/file/d/1J88K_2d-qnXHRcy1LWpzjOpy8rTbk8Y8/view?usp=sharing",
            "Negotiated Procurement: Scientific, Scholarly or Artistic Work, Exclusive Technology and Media Services": "https://drive.google.com/file/d/1uIXX1qigYO0LHcw5ytylQk7WDhihn3Ar/view?usp=sharing",
            "Negotiated Procurement: Highly Technical Consultants": "https://drive.google.com/file/d/1dUjQ7Fw31hYLcCHOhq5ecTEULlW8UT28/view?usp=sharing",
            "Negotiated Procurement: Defense Cooperation Agreements and Inventory-Based Items": "https://drive.google.com/file/d/1tOqzkHgi5Ch_TeMt9u4j1-lKWnYB86fx/view?usp=sharing",
            "Negotiated Procurement: Lease of Real Property and Venue": "https://drive.google.com/file/d/1vxnSLNbc5qGOkLHv1eV2fbd25ad1W2Vm/view?usp=sharing",
            "Negotiated Procurement: Non-Government Organization (NGO) Participation": "https://drive.google.com/file/d/1sxmYXz2STl_MR50L8RRIkZeQ32PZColm/view?usp=sharing",
            "Negotiated Procurement: Community Participation": "https://drive.google.com/file/d/12jNu-D0-F50MVE8Pm3F9Vg0ozP1076xV/view?usp=sharing",
            "Negotiated Procurement: United Nations (UN) Agencies, International Organization or International Financing Organizations": "https://drive.google.com/file/d/1u87GJH-VV9h-yji6XIi_IJWlb50AdGIq/view?usp=sharing",
            "Negotiated Procurement: Direct Retail Purchase of Petroleum Fuel, Oil and Lubricant Products, Electronic Charging Devices, and Online Subscriptions": "https://drive.google.com/file/d/1gFtO3KQbsD2WUy50-qpTl4UWOYtRasy2/view?usp=sharing",
            "Direct Sales": "https://drive.google.com/file/d/14AchMeFf6PD1wJPaKS4jEsqkDX-Bh9P9/view?usp=sharing",
            "Direct Procurement for Science, Technology, and Innovation": "https://drive.google.com/file/d/13gZCLwRib0lBDs7Y00VlOdHw0OSGtWEq/view?usp=sharing",
            "Procure from the Procurement Service-Department of Budget and Management (PS-DBM)": "https://drive.google.com/file/d/1yan0pMum_FRZKIrZR_AW1yYQqOOYEPgx/view?usp=sharing",
            "Negotiated Procurement: Sagip Saka Act": "https://drive.google.com/file/d/16fsN6WnyAYvpJjqLPfNEzrFkeySZL88D/view?usp=sharing"
        };

        let currentNode = 'start';
        let userPath = [];
        let breadcrumbPath = [];
        let availableModes = new Set();
        let history = [];

        function updateBreadcrumb() {
          const breadcrumbContainer = document.getElementById('breadcrumbContainer');
          const breadcrumbTrail = document.getElementById('breadcrumbTrail');
          breadcrumbTrail.innerHTML = '';
        
          // Add home button
          const homeButton = document.createElement('button');
          homeButton.className = 'breadcrumb-btn';
          homeButton.textContent = 'üè† Home';
          homeButton.onclick = () => restart();
          breadcrumbTrail.appendChild(homeButton);
        
          // Helper to truncate text
          function truncate(text, maxLength = 24) {
            if (text.length > maxLength) {
              return text.slice(0, maxLength - 3) + '...';
            }
            return text;
          }
        
          // Determine which breadcrumbs to show
          let itemsToShow = [];
          if (breadcrumbPath.length > 5) {
            // Show first, ellipsis, last 3
            itemsToShow = [
              { text: breadcrumbPath[0], index: 0 },
              { text: '...', isEllipsis: true },
              ...breadcrumbPath.slice(-3).map((text, i) => ({
                text,
                index: breadcrumbPath.length - 3 + i
              }))
            ];
          } else {
            itemsToShow = breadcrumbPath.map((text, i) => ({ text, index: i }));
          }
        
        // Render breadcrumbs
        itemsToShow.forEach((item, idx) => {
          // Separator
          const separator = document.createElement('span');
          separator.textContent = ' / ';
          separator.style.color = '#999';
          breadcrumbTrail.appendChild(separator);
        
          if (item.isEllipsis) {
            // Ellipsis, not clickable
            const ellipsis = document.createElement('span');
            ellipsis.className = 'breadcrumb-current';
            ellipsis.textContent = '...';
            breadcrumbTrail.appendChild(ellipsis);
          } else {
            // All breadcrumbs are now non-clickable
            const breadcrumbItem = document.createElement('span');
            breadcrumbItem.className = 'breadcrumb-current';
            breadcrumbItem.textContent = truncate(item.text);
            breadcrumbItem.title = item.text;
            breadcrumbTrail.appendChild(breadcrumbItem);
          }
        });
        
          // Show/hide container
          if (breadcrumbPath.length > 0) {
            breadcrumbContainer.style.display = 'block';
          } else {
            breadcrumbContainer.style.display = 'none';
          }
        }

        function updateDynamicRecommendations() {
            const dynamicContainer = document.getElementById('dynamicRecommendations');
            const badgesContainer = document.getElementById('recommendationBadges');
            
            badgesContainer.innerHTML = '';
            
            if (availableModes.size > 0) {
                // Convert Set to Array and create badges
                Array.from(availableModes).forEach(mode => {
                    const badge = document.createElement('div');
                    badge.className = 'recommendation-badge';
                    badge.innerHTML = `${procurementModeEmojis[mode] || 'üìã'} ${mode}`;
                    badgesContainer.appendChild(badge);
                });
                
                dynamicContainer.style.display = 'block';
            } else {
                dynamicContainer.style.display = 'none';
            }
        }

        function makeChoice(choice) {
            const currentNodeData = decisionTree[currentNode];
            const selectedOption = currentNodeData.options[choice];
            
            // Save current state to history
            history.push({
                node: currentNode,
                path: [...breadcrumbPath],
                modes: new Set(availableModes)
            });
            
            userPath.push(selectedOption.text);
            breadcrumbPath.push(selectedOption.text);
            
            // Add any triggered procurement modes to available modes
            if (selectedOption.triggers) {
                selectedOption.triggers.forEach(mode => {
                    availableModes.add(mode);
                });
            }
            
            currentNode = selectedOption.next;
            
            updateBreadcrumb();
            updateDynamicRecommendations();
            updateBackButton();
            
            if (currentNode.startsWith('result_')) {
                showResult();
            } else {
                showQuestion();
            }
        }

        function goBack() {
            if (history.length === 0) return;
            
            // Get previous state from history
            const previousState = history.pop();
            
            // Restore previous state
            currentNode = previousState.node;
            breadcrumbPath = previousState.path;
            availableModes = previousState.modes;
            
            updateBreadcrumb();
            updateDynamicRecommendations();
            updateBackButton();
            showQuestion();
        }

        function navigateToStep(stepIndex) {
            // Clear history and available modes
            history = history.slice(0, stepIndex);
            availableModes.clear();
            
            // Rebuild available modes up to the selected step
            for (let i = 0; i <= stepIndex; i++) {
                if (history[i] && history[i].modes) {
                    history[i].modes.forEach(mode => availableModes.add(mode));
                }
            }
            
            // Update breadcrumb path
            breadcrumbPath = breadcrumbPath.slice(0, stepIndex + 1);
            
            // Find the node for this step
            let tempNode = 'start';
            for (let i = 0; i <= stepIndex; i++) {
                const step = breadcrumbPath[i];
                const nodeData = decisionTree[tempNode];
                for (let optionKey in nodeData.options) {
                    if (nodeData.options[optionKey].text === step) {
                        tempNode = nodeData.options[optionKey].next;
                        break;
                    }
                }
            }
            
            currentNode = tempNode;
            
            updateBreadcrumb();
            updateDynamicRecommendations();
            updateBackButton();
            showQuestion();
        }

        function updateBackButton() {
            const backButton = document.getElementById('backButton');
            if (history.length > 0) {
                backButton.style.display = 'block';
            } else {
                backButton.style.display = 'none';
            }
        }

        function showQuestion() {
            document.getElementById('homeContainer').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('dynamicRecommendations').style.display = 'block';
            
            const nodeData = decisionTree[currentNode];
            document.getElementById('questionText').innerHTML = nodeData.question;
            
            const optionsContainer = document.getElementById('optionsContainer');
            
            // Only replace with image options for the first question
            if (currentNode === 'start') {
                optionsContainer.innerHTML = `
                    <div class="image-option" onclick="makeChoice('goods')">
                        <img src="Billy Goods.png" style="width: 290px; height: 260px; object-fit: cover; border-radius: 8px;" alt="Goods icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                        <h3>Goods</h3>
                    </div>
                    <div class="image-option" onclick="makeChoice('infrastructure')">
                        <img src="Billy Infra.png" style="width: 290px; height: 260px; object-fit: cover; border-radius: 8px;" alt="Infrastructure icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                        <h3>Infrastructure Projects</h3>
                    </div>
                    <div class="image-option" onclick="makeChoice('consulting')">
                        <img src="Billy Consulting.png" style="width: 290px; height: 260px; object-fit: cover; border-radius: 8px;" alt="Consulting icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                        <h3>Consulting Services</h3>
                    </div>
                `;
            } else {
                // Use image options for yes/no questions
                if (currentNode === 'cse_goods' || 
                    currentNode === 'previouslyprocured_noncse' || 
                    currentNode === 'previouscontract_takeovercontract_goods' ||
                    currentNode === 'takeovercontract_cse_noncse' ||
                    currentNode === 'directsales_previousprocurement_competitive' ||
                    currentNode === 'directsales_certificateofsatisfactoryperformance' ||
                    currentNode === 'directsales_previousprocurement_firsttime' ||
                    currentNode === 'directsales_previousprocurement_sixmonths' ||
                    currentNode === 'directsales_lowerunitprice' ||
                    currentNode === 'directsales_suppliercapability' ||
                    currentNode === 'repeatorder_previousprocurement_competitive_noncse' ||
                    currentNode === 'repeatorder_lowerunitprice_noncse' ||
                    currentNode === 'repeatorder_previousprocurement_sixmonths_noncse' ||
                    currentNode === 'repeatorder_quantifiablegood_noncse' ||
                    currentNode === 'directacquisition_abc_noncse' ||
                    currentNode === 'retailpumpprice' ||
                    currentNode === 'immediateconsumption' ||
                    currentNode === 'lgu_goods' ||
                    currentNode === 'abc_barangay_goods' ||
                    currentNode === 'abc_province_twomillion_goods' ||
                    currentNode === 'abc_province_onemillionsixhundred_goods' ||
                    currentNode === 'abc_province_onemilliontwohundred_goods' ||
                    currentNode === 'abc_city_twomillion_goods' ||
                    currentNode === 'abc_city_onemillionsixhundred_goods' ||
                    currentNode === 'abc_city_onemilliontwohundred_goods' ||
                    currentNode === 'abc_city_eighthundred_goods' ||
                    currentNode === 'abc_municipality_fourhundred_goods' ||
                    currentNode === 'abc_municipality_twohundred_goods' ||
                    currentNode === 'smallvalueprocurement_abc' ||
                    currentNode === 'prefer_competitivebidding_noncse' ||
                    currentNode === 'onlinesubscription_availablepsdbm' ||
                    currentNode === 'onlinesubscription_localprovider' ||
                    currentNode === 'sagipsaka_accreditedffce' ||
                    currentNode === 'afpmodernizationprogram_noncse' || 
                    currentNode === 'afpmodernizationprogram_directnegotiation_noncse' ||
                    currentNode === 'afpmodernizationprogram_previouscontract_noncse' ||
                    currentNode === 'afpmodernizationprogram_performancesecurity_noncse' ||
                    currentNode === 'publicownedvenue' ||
                    currentNode === 'efficientandeconomical_venue' ||
                    currentNode === 'agencymandate_realpropertyvenue' ||
                    currentNode === 'newconcepttechnology_noncse' ||
                    currentNode === 'unsolicitedoffer_noncse' ||
                    currentNode === 'researchuse_noncse' ||
                    currentNode === 'approvedlist_limitedsourcebidding_noncse' ||
                    currentNode === 'ngo_appropriationlaw_noncse' ||
                    currentNode === 'necessarytools_agencytoagency_noncse' ||
                    currentNode === 'availablepsdbm_cse' ||
                    currentNode === 'previouslyprocured_cse' ||
                    currentNode === 'repeatorder_previousprocurement_competitive_cse' ||
                    currentNode === 'repeatorder_lowerunitprice_cse' ||
                    currentNode === 'repeatorder_previousprocurement_sixmonths_cse' ||
                    currentNode === 'repeatorder_quantifiablegood_cse' ||
                    currentNode === 'directacquisition_abc_cse') {
                    optionsContainer.className = 'options horizontal';
                    optionsContainer.innerHTML = `
                        <div class="image-option" onclick="makeChoice('yes')">
                            <img src="YES.png" style="width: 130px; height: 70px; object-fit: cover; border-radius: 1px;" alt="Yes icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                        </div>
                        <div class="image-option" onclick="makeChoice('no')">
                            <img src="NO.png" style="width: 130px; height: 70px; object-fit: cover; border-radius: 1px;" alt="No icon" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                        </div>
                    `;
                } else {
                    // Use regular buttons for other questions
                    optionsContainer.className = 'options';
                    optionsContainer.innerHTML = '';
                    
                    for (let optionKey in nodeData.options) {
                        const option = nodeData.options[optionKey];
                        const button = document.createElement('button');
                        button.className = 'option-btn';
                        button.textContent = option.text;
                        button.onclick = () => makeChoice(optionKey);
                        optionsContainer.appendChild(button);
                    }
                }
            }
        }

        function showResult() {
            const result = results[currentNode];
            
            document.getElementById('homeContainer').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';
            
            const recommendationContainer = document.getElementById('recommendationContainer');
            recommendationContainer.innerHTML = '';

            // ‚úÖ Prevent duplication of the main recommendation
            for (let mode of availableModes) {
                if (mode.toLowerCase().trim() === result.title.toLowerCase().trim()) {
                    availableModes.delete(mode);
                    break;
                }
            }

            document.getElementById('homeContainer').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';
            
            // Create primary recommendation with clickable link
            const primaryRecommendation = document.createElement('div');
            primaryRecommendation.className = 'primary-recommendation';
            let learnMoreButton = '';
            if (result.link && result.link !== '#' && !result.link.toLowerCase().includes('under construction')) {
              learnMoreButton = `<a href="${result.link}" target="_blank" class="learn-more-btn">üîó Learn more</a>`;
            }
            
            // Determine header label based on result type
            let headerLabel = "üí° Procurement Mode";
            if (
              currentNode === "result_underconstruction" ||
              currentNode === "result_reviewtechspecs" ||
              currentNode === "result_procurepsdbm"
            ) {
              headerLabel = "üìã Result";
            }
            
            primaryRecommendation.innerHTML = `
            <div class="recommendation-title">${headerLabel}</div>
            <strong>${result.title}</strong>
            <div class="recommendation-description">
            ${result.description}
            </div>
            ${learnMoreButton}
            `;
            recommendationContainer.appendChild(primaryRecommendation);
            
            // Create alternative recommendations with clickable badges
            if (availableModes.size > 0) {
                const alternativeContainer = document.createElement('div');
                alternativeContainer.className = 'alternative-recommendations';
                
                const alternativeTitle = document.createElement('div');
                alternativeTitle.className = 'alternative-title';
                alternativeTitle.innerHTML = '<span class="icon">üí°</span> Other Procurement Modes:';
                alternativeContainer.appendChild(alternativeTitle);
                
                const alternativeBadges = document.createElement('div');
                alternativeBadges.className = 'alternative-badges';
                
                Array.from(availableModes).forEach(mode => {
                    const badge = document.createElement('a');
                    badge.className = 'alternative-badge';
                    badge.href = procurementModeLinks[mode] || '#';
                    badge.target = '_blank';
                    badge.innerHTML = `${procurementModeEmojis[mode] || 'üìã'} ${mode}`;
                    alternativeBadges.appendChild(badge);
                });
                
                alternativeContainer.appendChild(alternativeBadges);
                recommendationContainer.appendChild(alternativeContainer);
            }
            
            document.getElementById('dynamicRecommendations').style.display = 'none';
        }

        function startDecisionTree() {
            document.getElementById('homeContainer').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('dynamicRecommendations').style.display = 'block';
            showQuestion();
        }

        function restart() {
            // Reset all variables completely
            currentNode = 'start';
            userPath = [];
            breadcrumbPath = [];
            availableModes.clear();
            history = [];
    
            // Reset all UI elements - GO TO FIRST QUESTION INSTEAD OF HOME
            document.getElementById('homeContainer').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('breadcrumbContainer').style.display = 'none';
            document.getElementById('dynamicRecommendations').style.display = 'block';
            document.getElementById('backButton').style.display = 'none';
            
            // Clear any dynamic content
            document.getElementById('recommendationBadges').innerHTML = '';
            document.getElementById('recommendationContainer').innerHTML = '';
            
            // Show the first question
            showQuestion();
        }

        // Initialize - FIXED: Show home screen instead of first question
        document.getElementById('homeContainer').style.display = 'block';
        document.getElementById('questionContainer').style.display = 'none';
        document.getElementById('resultContainer').style.display = 'none';
        document.getElementById('breadcrumbContainer').style.display = 'none';
        document.getElementById('dynamicRecommendations').style.display = 'none';

        function openFeedbackForm() {
        window.open('https://forms.office.com/Pages/ResponsePage.aspx?id=t4cJLfDqkEG0q9B_9ONFBILVbW3cIK9Grl4vnQmaLbpUNFZaSkMwOUUyR0MyQ0pRMUVUSFVNN080UCQlQCN0PWcu', '_blank');
        }

        function goBackFromResult() {
          if (history.length === 0) {
            restart();
            return;
          }
        
          // Restore the last question state
          const previousState = history.pop();
          currentNode = previousState.node;
          breadcrumbPath = previousState.path;
          availableModes = previousState.modes;
        
          // Show the question screen again
          document.getElementById('resultContainer').style.display = 'none';
          document.getElementById('questionContainer').style.display = 'block';
          document.getElementById('dynamicRecommendations').style.display = 'block';
        
          updateBreadcrumb();
          updateDynamicRecommendations();
          updateBackButton();
          showQuestion();
        }

        function toggleDropdown(event) {
          event.preventDefault();
          const dropdown = event.target.closest('.dropdown');
          dropdown.classList.toggle('show');
        
          // Close dropdown if clicked outside
          window.addEventListener('click', function closeDropdown(e) {
            if (!dropdown.contains(e.target)) {
              dropdown.classList.remove('show');
              window.removeEventListener('click', closeDropdown);
            }
          });
        }

</script>
